@startuml

title Fixtures

hide methods
hide circle

class ConfiguredFixture <<runfixture>>{
	config
	reahl_system
	context
	system_control
}

class CleanDatabase <<runfixture>>{
}

class BrowserSetup <<runfixture>>{
	reahl_server
	web_driver
	driver_browser
	firefox_driver
	chrome_driver
	config
}

class SqlAlchemyTestMixin{
	reahlsystem
	config
	context
	@system_control
}

class BasicModelZooMixin{
	systeminfo
	config
	session
}

class WebBasicsMixin{
	webconfig
	config
	context
	request
	session
	@page_checker
	@reahl_server
}


ConfiguredFixture <|-- CleanDatabase
CleanDatabase <|-- BrowserSetup
BrowserSetup  -right- WebBasicsMixin
CleanDatabase -right- SqlAlchemyTestMixin

SqlAlchemyTestMixin <|-- BasicModelZooMixin
BasicModelZooMixin <|-- WebBasicsMixin
BasicModelZooMixin <|--- PartyModelZooMixin
PartyModelZooMixin <|-- GalleryModelZooMixin
PartyModelZooMixin <|-- TaskQueueZooMixin
GalleryModelZooMixin <|-- ArticleModelZooMixin


class InputFixture <<fixture>>{
	obj
	field
	view
	region
	form
}
class WebFixture <<fixture>>
class FaceFixture <<fixture>>
WebFixture <|-- FaceFixture


class ElixirSiteFixture <<fixture>>
class WidgetFixture <<fixture>>{
	region_factory
	region
	view
}
class PageMenuFixture <<fixture>>
class GalleryWebFixture <<fixture>>
InputFixture -right[hidden]- ElixirSiteFixture
ElixirSiteFixture -right[hidden]- GalleryWebFixture

WebBasicsMixin -- InputFixture
WebBasicsMixin -- WebFixture
WebBasicsMixin -- FaceFixture
WebBasicsMixin -- ElixirSiteFixture
WebBasicsMixin -- WidgetFixture
WebBasicsMixin -- PageMenuFixture
WebBasicsMixin -- GalleryWebFixture
WebBasicsMixin -- ArticleWebFixture
WebBasicsMixin -- DjhtmlFixture

class PartyDomainFixture <<fixture>>
class GalleryDomainFixture <<fixture>>
class TaskQueueFixture <<fixture>>
class ArticleWebFixture <<fixture>>

class PartyModelZooMixin{
	system_account
	person
	mailer
}
class GalleryModelZooMixin{
	photo_file
	gallery
	photo
	thumbnail_file
}
class ArticleModelZooMixin{
	article
	magazine
	edition
	section
}
class DjhtmlFixture <<fixture>>{
	region
	static_dir
	config
	djhtml_file
	other_file
}
class ArticleDomainFixture<<fixture>>

PartyModelZooMixin -right- PartyDomainFixture
GalleryModelZooMixin -right- GalleryDomainFixture
ArticleModelZooMixin -right- ArticleDomainFixture
TaskQueueZooMixin -right- TaskQueueFixture

WorkflowWebFixture -left- BasicModelZooMixin
WorkflowWebFixture -- TaskQueueZooMixin

ElixirSiteFixture -- ArticleModelZooMixin
ArticleWebFixture -- ArticleModelZooMixin
GalleryWebFixture -- GalleryModelZooMixin

@enduml